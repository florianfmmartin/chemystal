{"repository_name":"chemystal","body":"# chemystal\n\nA reflexive chemical abstract machine (RCHAM) based concurrency library inspired by join-calculus\n\n## Installation\n\n1. Add the dependency to your `shard.yml`:\n\n   ```yaml\n   dependencies:\n     chemystal:\n       github: florianfmmartin/chemystal\n   ```\n\n2. Run `shards install`\n\n## Usage\n\n```crystal\nrequire \"chemystal\"\n```\n\n[Documentation]()\n\n## Contributing\n\n1. Fork it (<https://github.com/florianfmmartin/chemystal/fork>)\n2. Create your feature branch (`git checkout -b my-new-feature`)\n3. Commit your changes (`git commit -am 'Add some feature'`)\n4. Push to the branch (`git push origin my-new-feature`)\n5. Create a new Pull Request\n\n## Contributors\n\n- [florianfmmartin](https://github.com/florianfmmartin) - creator and maintainer\n\n","program":{"html_id":"chemystal/toplevel","path":"toplevel.html","kind":"module","full_name":"Top Level Namespace","name":"Top Level Namespace","abstract":false,"locations":[],"repository_name":"chemystal","program":true,"enum":false,"alias":false,"const":false,"types":[{"html_id":"chemystal/Chemystal","path":"Chemystal.html","kind":"module","full_name":"Chemystal","name":"Chemystal","abstract":false,"locations":[{"filename":"src/chemystal/chemical_machine.cr","line_number":3,"url":null},{"filename":"src/chemystal/chemical_machine/molecule_soup.cr","line_number":1,"url":null},{"filename":"src/chemystal/chemical_machine/reaction_collection.cr","line_number":1,"url":null},{"filename":"src/chemystal/molecule.cr","line_number":1,"url":null},{"filename":"src/chemystal/reaction.cr","line_number":1,"url":null}],"repository_name":"chemystal","program":false,"enum":false,"alias":false,"const":false,"instance_methods":[{"html_id":"m!(name:String,value:MoleculeValue):Molecule-instance-method","name":"m!","doc":"Make a molecule","summary":"<p>Make a molecule</p>","abstract":false,"args":[{"name":"name","external_name":"name","restriction":"String"},{"name":"value","external_name":"value","restriction":"MoleculeValue"}],"args_string":"(name : String, value : MoleculeValue) : Molecule","args_html":"(name : String, value : <a href=\"Chemystal/MoleculeValue.html\">MoleculeValue</a>) : <a href=\"Chemystal/Molecule.html\">Molecule</a>","location":{"filename":"src/chemystal/molecule.cr","line_number":15,"url":null},"def":{"name":"m!","args":[{"name":"name","external_name":"name","restriction":"String"},{"name":"value","external_name":"value","restriction":"MoleculeValue"}],"return_type":"Molecule","visibility":"Public","body":"return Molecule.new(name, value)"}},{"html_id":"r!(requirements:Array(ReactionRequirement),spawner:Spawner,proc:Array(Molecule),Spawner->Nil)-instance-method","name":"r!","abstract":false,"args":[{"name":"requirements","external_name":"requirements","restriction":"Array(ReactionRequirement)"},{"name":"spawner","external_name":"spawner","restriction":"Spawner"},{"name":"proc","external_name":"proc","restriction":"(Array(Molecule), Spawner -> Nil)"}],"args_string":"(requirements : Array(ReactionRequirement), spawner : Spawner, proc : Array(Molecule), Spawner -> Nil)","args_html":"(requirements : Array(<a href=\"Chemystal/ReactionRequirement.html\">ReactionRequirement</a>), spawner : <a href=\"Chemystal/Spawner.html\">Spawner</a>, proc : Array(<a href=\"Chemystal/Molecule.html\">Molecule</a>), <a href=\"Chemystal/Spawner.html\">Spawner</a> -> Nil)","location":{"filename":"src/chemystal/reaction.cr","line_number":14,"url":null},"def":{"name":"r!","args":[{"name":"requirements","external_name":"requirements","restriction":"Array(ReactionRequirement)"},{"name":"spawner","external_name":"spawner","restriction":"Spawner"},{"name":"proc","external_name":"proc","restriction":"(Array(Molecule), Spawner -> Nil)"}],"visibility":"Public","body":"return Reaction.new(requirements, spawner, proc)"}}],"types":[{"html_id":"chemystal/Chemystal/ChemicalMachine","path":"Chemystal/ChemicalMachine.html","kind":"class","full_name":"Chemystal::ChemicalMachine","name":"ChemicalMachine","abstract":false,"superclass":{"html_id":"chemystal/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"chemystal/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"chemystal/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/chemystal/chemical_machine.cr","line_number":7,"url":null}],"repository_name":"chemystal","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"chemystal/Chemystal","kind":"module","full_name":"Chemystal","name":"Chemystal"},"doc":"A Chemical Machine has a molecule soup and a reaction collection.\nWhen activated it runs reactions based on the molecules available\nin the soup as ressources for those reactions","summary":"<p>A Chemical Machine has a molecule soup and a reaction collection.</p>","instance_methods":[{"html_id":"add_molecule(molecule:Molecule)-instance-method","name":"add_molecule","doc":"Adds a molecule to the soup","summary":"<p>Adds a molecule to the soup</p>","abstract":false,"args":[{"name":"molecule","external_name":"molecule","restriction":"Molecule"}],"args_string":"(molecule : Molecule)","args_html":"(molecule : <a href=\"../Chemystal/Molecule.html\">Molecule</a>)","location":{"filename":"src/chemystal/chemical_machine.cr","line_number":28,"url":null},"def":{"name":"add_molecule","args":[{"name":"molecule","external_name":"molecule","restriction":"Molecule"}],"visibility":"Public","body":"@molecule_soup.add_molecule(molecule)"}},{"html_id":"add_reaction(reaction:Reaction)-instance-method","name":"add_reaction","doc":"Adds a reaction to the collection","summary":"<p>Adds a reaction to the collection</p>","abstract":false,"args":[{"name":"reaction","external_name":"reaction","restriction":"Reaction"}],"args_string":"(reaction : Reaction)","args_html":"(reaction : <a href=\"../Chemystal/Reaction.html\">Reaction</a>)","location":{"filename":"src/chemystal/chemical_machine.cr","line_number":33,"url":null},"def":{"name":"add_reaction","args":[{"name":"reaction","external_name":"reaction","restriction":"Reaction"}],"visibility":"Public","body":"@reaction_collection.add_reaction(reaction)"}},{"html_id":"run-instance-method","name":"run","abstract":false,"location":{"filename":"src/chemystal/chemical_machine.cr","line_number":37,"url":null},"def":{"name":"run","visibility":"Public","body":""}}]},{"html_id":"chemystal/Chemystal/Molecule","path":"Chemystal/Molecule.html","kind":"struct","full_name":"Chemystal::Molecule","name":"Molecule","abstract":false,"superclass":{"html_id":"chemystal/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"chemystal/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"chemystal/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"chemystal/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/chemystal/molecule.cr","line_number":7,"url":null}],"repository_name":"chemystal","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"chemystal/Chemystal","kind":"module","full_name":"Chemystal","name":"Chemystal"},"doc":"A Molecule is a labeled value, it is similar to a typed message\nin message passing paradigms","summary":"<p>A Molecule is a labeled value, it is similar to a typed message in message passing paradigms</p>","constructors":[{"html_id":"new(name:String,value:MoleculeValue)-class-method","name":"new","abstract":false,"args":[{"name":"name","external_name":"name","restriction":"String"},{"name":"value","external_name":"value","restriction":"MoleculeValue"}],"args_string":"(name : String, value : MoleculeValue)","args_html":"(name : String, value : <a href=\"../Chemystal/MoleculeValue.html\">MoleculeValue</a>)","location":{"filename":"src/chemystal/molecule.cr","line_number":10,"url":null},"def":{"name":"new","args":[{"name":"name","external_name":"name","restriction":"String"},{"name":"value","external_name":"value","restriction":"MoleculeValue"}],"visibility":"Public","body":"_ = allocate\n_.initialize(name, value)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"name:String-instance-method","name":"name","abstract":false,"location":{"filename":"src/chemystal/molecule.cr","line_number":8,"url":null},"def":{"name":"name","visibility":"Public","body":"@name"}},{"html_id":"value:Chemystal::MoleculeValue-instance-method","name":"value","abstract":false,"location":{"filename":"src/chemystal/molecule.cr","line_number":8,"url":null},"def":{"name":"value","visibility":"Public","body":"@value"}}]},{"html_id":"chemystal/Chemystal/MoleculeSoup","path":"Chemystal/MoleculeSoup.html","kind":"class","full_name":"Chemystal::MoleculeSoup","name":"MoleculeSoup","abstract":false,"superclass":{"html_id":"chemystal/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"chemystal/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"chemystal/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/chemystal/chemical_machine/molecule_soup.cr","line_number":7,"url":null}],"repository_name":"chemystal","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"chemystal/Chemystal","kind":"module","full_name":"Chemystal","name":"Chemystal"},"doc":"A Molecule Soup is a Hash from the molecules name\nto a deque of molecules having that same name\n\nThe use of a deque is to have FIFO, such that no old molecules\nare left floating around in the soup","summary":"<p>A Molecule Soup is a Hash from the molecules name to a deque of molecules having that same name</p>","instance_methods":[{"html_id":"add_molecule(molecule:Molecule)-instance-method","name":"add_molecule","doc":"Adds a molecule to the soup","summary":"<p>Adds a molecule to the soup</p>","abstract":false,"args":[{"name":"molecule","external_name":"molecule","restriction":"Molecule"}],"args_string":"(molecule : Molecule)","args_html":"(molecule : <a href=\"../Chemystal/Molecule.html\">Molecule</a>)","location":{"filename":"src/chemystal/chemical_machine/molecule_soup.cr","line_number":32,"url":null},"def":{"name":"add_molecule","args":[{"name":"molecule","external_name":"molecule","restriction":"Molecule"}],"visibility":"Public","body":"molecules_with_same_name = @soup.fetch(molecule.name, Deque(Molecule).new)\nmolecules_with_same_name.push(molecule)\n@soup[molecule.name] = molecules_with_same_name\n"}},{"html_id":"get_molecules_with_name(name:String):Deque(Molecule)-instance-method","name":"get_molecules_with_name","doc":"Gets all molecules with the *name*","summary":"<p>Gets all molecules with the <em>name</em></p>","abstract":false,"args":[{"name":"name","external_name":"name","restriction":"String"}],"args_string":"(name : String) : Deque(Molecule)","args_html":"(name : String) : Deque(<a href=\"../Chemystal/Molecule.html\">Molecule</a>)","location":{"filename":"src/chemystal/chemical_machine/molecule_soup.cr","line_number":11,"url":null},"def":{"name":"get_molecules_with_name","args":[{"name":"name","external_name":"name","restriction":"String"}],"return_type":"Deque(Molecule)","visibility":"Public","body":"return @soup.fetch(name, Deque(Molecule).new)"}},{"html_id":"has_molecule_with_name(name:String):Bool-instance-method","name":"has_molecule_with_name","doc":"Checks if at least one molecule with the *name* is in the soup","summary":"<p>Checks if at least one molecule with the <em>name</em> is in the soup</p>","abstract":false,"args":[{"name":"name","external_name":"name","restriction":"String"}],"args_string":"(name : String) : Bool","args_html":"(name : String) : Bool","location":{"filename":"src/chemystal/chemical_machine/molecule_soup.cr","line_number":16,"url":null},"def":{"name":"has_molecule_with_name","args":[{"name":"name","external_name":"name","restriction":"String"}],"return_type":"Bool","visibility":"Public","body":"return (get_molecules_with_name(name)).size > 0"}},{"html_id":"use_molecule_with_name(name:String):Molecule|Nil-instance-method","name":"use_molecule_with_name","doc":"Consumes one molecule withe the *name*, returning it and removing it from the soup","summary":"<p>Consumes one molecule withe the <em>name</em>, returning it and removing it from the soup</p>","abstract":false,"args":[{"name":"name","external_name":"name","restriction":"String"}],"args_string":"(name : String) : Molecule | Nil","args_html":"(name : String) : <a href=\"../Chemystal/Molecule.html\">Molecule</a> | Nil","location":{"filename":"src/chemystal/chemical_machine/molecule_soup.cr","line_number":21,"url":null},"def":{"name":"use_molecule_with_name","args":[{"name":"name","external_name":"name","restriction":"String"}],"return_type":"Molecule | ::Nil","visibility":"Public","body":"molecules_with_same_name = @soup.fetch(name, nil)\nif molecules_with_same_name.nil?\n  return nil\nend\nreturn molecules_with_same_name.shift?\n"}}]},{"html_id":"chemystal/Chemystal/MoleculeValue","path":"Chemystal/MoleculeValue.html","kind":"alias","full_name":"Chemystal::MoleculeValue","name":"MoleculeValue","abstract":false,"locations":[{"filename":"src/chemystal/molecule.cr","line_number":3,"url":null}],"repository_name":"chemystal","program":false,"enum":false,"alias":true,"aliased":"(Bool | Char | Float64 | Hash(Chemystal::MoleculeValue, Chemystal::MoleculeValue) | Int64 | String | UInt64 | Nil)","aliased_html":"Bool | Char | Float64 | Hash(<a href=\"../Chemystal/MoleculeValue.html\">Chemystal::MoleculeValue</a>, <a href=\"../Chemystal/MoleculeValue.html\">Chemystal::MoleculeValue</a>) | Int64 | String | UInt64 | Nil","const":false,"namespace":{"html_id":"chemystal/Chemystal","kind":"module","full_name":"Chemystal","name":"Chemystal"},"doc":"A Molecule can take all these values","summary":"<p>A Molecule can take all these values</p>"},{"html_id":"chemystal/Chemystal/Reaction","path":"Chemystal/Reaction.html","kind":"struct","full_name":"Chemystal::Reaction","name":"Reaction","abstract":false,"superclass":{"html_id":"chemystal/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"chemystal/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"chemystal/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"chemystal/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/chemystal/reaction.cr","line_number":5,"url":null}],"repository_name":"chemystal","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"chemystal/Chemystal","kind":"module","full_name":"Chemystal","name":"Chemystal"},"constructors":[{"html_id":"new(requirements:Array(NamedTuple(name:String,type:String,arg:String)),spawner:Chemystal::Molecule->_,proc:Array(Chemystal::Molecule),Chemystal::Molecule->_->_)-class-method","name":"new","abstract":false,"args":[{"name":"requirements","external_name":"requirements","restriction":"::Array(::NamedTuple(name: ::String, type: ::String, arg: ::String))"},{"name":"spawner","external_name":"spawner","restriction":"(::Chemystal::Molecule -> _)"},{"name":"proc","external_name":"proc","restriction":"(::Array(::Chemystal::Molecule), (::Chemystal::Molecule -> _) -> _)"}],"args_string":"(requirements : Array(NamedTuple(name: String, type: String, arg: String)), spawner : Chemystal::Molecule -> _, proc : Array(Chemystal::Molecule), Chemystal::Molecule -> _ -> _)","args_html":"(requirements : Array(NamedTuple(name: String, type: String, arg: String)), spawner : <a href=\"../Chemystal/Molecule.html\">Chemystal::Molecule</a> -> _, proc : Array(<a href=\"../Chemystal/Molecule.html\">Chemystal::Molecule</a>), <a href=\"../Chemystal/Molecule.html\">Chemystal::Molecule</a> -> _ -> _)","location":{"filename":"src/chemystal/reaction.cr","line_number":10,"url":null},"def":{"name":"new","args":[{"name":"requirements","external_name":"requirements","restriction":"::Array(::NamedTuple(name: ::String, type: ::String, arg: ::String))"},{"name":"spawner","external_name":"spawner","restriction":"(::Chemystal::Molecule -> _)"},{"name":"proc","external_name":"proc","restriction":"(::Array(::Chemystal::Molecule), (::Chemystal::Molecule -> _) -> _)"}],"visibility":"Public","body":"_ = allocate\n_.initialize(requirements, spawner, proc)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"requirements:Array(ReactionRequirement)-instance-method","name":"requirements","abstract":false,"location":{"filename":"src/chemystal/reaction.cr","line_number":6,"url":null},"def":{"name":"requirements","return_type":"Array(ReactionRequirement)","visibility":"Public","body":"@requirements"}}]},{"html_id":"chemystal/Chemystal/ReactionCollection","path":"Chemystal/ReactionCollection.html","kind":"class","full_name":"Chemystal::ReactionCollection","name":"ReactionCollection","abstract":false,"superclass":{"html_id":"chemystal/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"chemystal/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"chemystal/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/chemystal/chemical_machine/reaction_collection.cr","line_number":8,"url":null}],"repository_name":"chemystal","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"chemystal/Chemystal","kind":"module","full_name":"Chemystal","name":"Chemystal"},"doc":"A Reaction Collection is a Hash from molecule names to an array\nof reactions having that molecule as part of their requirement\n\nThe idea behind this structure is that whenever a new molecule spawns,\nonly the array of reactions requiring the new molecule will be searched\nfor new reactions to occur","summary":"<p>A Reaction Collection is a Hash from molecule names to an array of reactions having that molecule as part of their requirement</p>","instance_methods":[{"html_id":"add_reaction(reaction:Reaction)-instance-method","name":"add_reaction","doc":"Adds a reaction to the collection by adding it to\nall its requirements name entries","summary":"<p>Adds a reaction to the collection by adding it to all its requirements name entries</p>","abstract":false,"args":[{"name":"reaction","external_name":"reaction","restriction":"Reaction"}],"args_string":"(reaction : Reaction)","args_html":"(reaction : <a href=\"../Chemystal/Reaction.html\">Reaction</a>)","location":{"filename":"src/chemystal/chemical_machine/reaction_collection.cr","line_number":26,"url":null},"def":{"name":"add_reaction","args":[{"name":"reaction","external_name":"reaction","restriction":"Reaction"}],"visibility":"Public","body":"reaction.requirements.each do |requirement|\n  add_reaction_under_name(requirement.name, reaction)\nend"}}]},{"html_id":"chemystal/Chemystal/ReactionRequirement","path":"Chemystal/ReactionRequirement.html","kind":"alias","full_name":"Chemystal::ReactionRequirement","name":"ReactionRequirement","abstract":false,"locations":[{"filename":"src/chemystal/reaction.cr","line_number":3,"url":null}],"repository_name":"chemystal","program":false,"enum":false,"alias":true,"aliased":"NamedTuple(name: String, type: String, arg: String)","aliased_html":"{name: String, type: String, arg: String}","const":false,"namespace":{"html_id":"chemystal/Chemystal","kind":"module","full_name":"Chemystal","name":"Chemystal"}},{"html_id":"chemystal/Chemystal/Spawner","path":"Chemystal/Spawner.html","kind":"alias","full_name":"Chemystal::Spawner","name":"Spawner","abstract":false,"locations":[{"filename":"src/chemystal/reaction.cr","line_number":2,"url":null}],"repository_name":"chemystal","program":false,"enum":false,"alias":true,"aliased":"Proc(Chemystal::Molecule, Nil)","aliased_html":"<a href=\"../Chemystal/Molecule.html\">Chemystal::Molecule</a> -> Nil","const":false,"namespace":{"html_id":"chemystal/Chemystal","kind":"module","full_name":"Chemystal","name":"Chemystal"}}]}]}}